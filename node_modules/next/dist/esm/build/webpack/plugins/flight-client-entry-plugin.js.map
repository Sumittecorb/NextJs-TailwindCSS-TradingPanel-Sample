{"version":3,"sources":["../../../../src/build/webpack/plugins/flight-client-entry-plugin.ts"],"names":["webpack","stringify","path","sources","getInvalidator","getEntries","EntryTypes","getEntryKey","WEBPACK_LAYERS","APP_CLIENT_INTERNALS","COMPILER_NAMES","EDGE_RUNTIME_WEBPACK","SERVER_REFERENCE_MANIFEST","FLIGHT_SERVER_CSS_MANIFEST","generateActionId","getActions","isClientComponentModule","regexCSS","traverseModules","normalizePathSep","isAppRouteRoute","isMetadataRoute","getProxiedPluginState","PLUGIN_NAME","pluginState","serverActions","edgeServerActions","actionModId","serverCSSManifest","edgeServerCSSManifest","serverModuleIds","edgeServerModuleIds","ASYNC_CLIENT_MODULES","injectedClientEntries","FlightClientEntryPlugin","constructor","options","dev","appDir","isEdgeServer","apply","compiler","hooks","compilation","tap","normalModuleFactory","dependencyFactories","set","dependencies","ModuleDependency","dependencyTemplates","NullDependency","Template","finishMake","tapPromise","createClientEntries","afterCompile","recordModule","modId","mod","modResource","resourceResolveData","resource","layer","client","ssrNamedModuleId","relative","context","startsWith","replace","_chunk","_chunkGroup","request","buildInfo","rsc","moduleGraph","isAsync","push","String","make","processAssets","name","stage","Compilation","PROCESS_ASSETS_STAGE_OPTIMIZE_HASH","assets","createAsset","addClientEntryAndSSRModulesList","addActionEntryList","forEachEntryModule","callback","entry","entries","entryDependency","entryModule","getResolvedModule","forEach","dependency","modRequest","includes","internalClientComponentEntryImports","Set","actionEntryImports","Map","connection","getOutgoingConnections","entryRequest","clientImports","actionImports","collectComponentInfoFromDependencies","dep","names","isAbsoluteRequest","isAbsolute","value","add","relativeRequest","bundlePath","injectClientEntryAndSSRModules","entryName","absolutePagePath","size","injectActionEntry","actions","afterOptimizeModules","cssImportsForChunk","cssManifest","collectModule","test","chunkGroups","chunkGroup","chunks","chunk","endsWith","join","chunkModules","chunkGraph","getChunkModulesIterable","anyModule","modules","concatenatedMod","entryCSSInfo","__entry_css_mods__","Object","assign","clientEntryDependencyMap","get","includeDependencies","tracked","has","cssImports","manifest","JSON","undefined","RawSource","invalidator","outputPath","some","shouldInvalidate","invalidate","Promise","all","map","addClientEntryAndSSRModules","visitedBySegment","clientComponentImports","CSSImports","filterClientComponents","dependencyToFilter","inClientComponentBoundary","rawRequest","isCSS","query","storeKey","isClientComponent","sideEffectFree","factoryMeta","unused","getExportsInfo","isModuleUsed","Array","from","loaderOptions","server","clientLoader","importPath","sep","clientSSRLoader","pageKey","type","CHILD_ENTRY","parentEntries","absoluteEntryFilePath","dispose","lastActiveTime","Date","now","entryData","clientComponentEntryDep","EntryPlugin","createDependency","addEntry","actionsArray","actionLoader","currentCompilerServerActions","p","id","workers","actionEntryDep","resolve","reject","call","addModuleTree","contextInfo","issuerLayer","err","module","failedEntry","succeedEntry","fullServerActions","action","json"],"mappings":"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"}