{"version":3,"sources":["../../../src/server/dev/on-demand-entry-handler.ts"],"names":["origDebug","EventEmitter","findPageFile","runDependingOnPageType","join","posix","normalizePathSep","normalizePagePath","ensureLeadingSlash","removePagePathTail","reportTrigger","getRouteFromEntrypoint","getPageStaticInfo","isInstrumentationHookFile","isInstrumentationHookFilename","isMiddlewareFile","isMiddlewareFilename","PageNotFoundError","COMPILER_INDEXES","COMPILER_NAMES","RSC_MODULE_TYPES","RouteKind","debug","keys","Object","COMPILER_KEYS","treePathToEntrypoint","segmentPath","parentPath","parallelRouteKey","segment","path","startsWith","length","childSegmentPath","slice","convertDynamicParamTypeToSyntax","dynamicParamTypeShort","param","Error","getEntryKey","compilerType","pageBundleType","page","getPageBundleType","pageBundlePath","getEntrypointsFromTree","tree","isFirst","parallelRoutes","currentSegment","Array","isArray","currentPath","reduce","paths","key","childTree","childPages","ADDED","Symbol","BUILDING","BUILT","EntryTypes","ENTRY","CHILD_ENTRY","entriesMap","Map","normalizeOutputPath","dir","replace","getEntries","entries","get","set","invalidators","getInvalidator","doneCallbacks","lastClientAccessPages","lastServerAccessPagesForAppDir","Invalidator","building","Set","rebuildAgain","constructor","multiCompiler","shouldRebuildAll","size","invalidate","compilerKeys","has","add","compilers","watching","startBuilding","compilerKey","doneBuilding","rebuild","delete","push","disposeInactiveEntries","maxInactiveAge","forEach","entryKey","entryData","lastActiveTime","status","dispose","type","includes","Date","now","tryToNormalizePagePath","err","console","error","findPagePathData","rootDir","extensions","pagesDir","appDir","normalizedPagePath","pagePath","isInstrumentation","pageUrl","bundlePath","pageKey","normalize","absolutePagePath","keepIndex","require","resolve","findRoutePathData","match","definition","filename","onDemandEntryHandler","nextConfig","pagesBufferLength","curInvalidator","outputPath","curEntries","compilation","compilationName","name","compiler","hooks","make","tap","getPagePathsFromEntrypoints","entrypoints","root","pagePaths","entrypoint","values","done","multiStats","clientStats","serverStats","edgeServerStats","stats","entryNames","client","server","edgeServer","entry","emit","pingIntervalTime","Math","max","min","setInterval","unref","handleAppDirPing","pages","toSend","invalid","entryInfo","unshift","pop","success","handlePing","pg","ensurePage","clientOnly","appPaths","stalledTime","stalledEnsureTimeout","setTimeout","kind","APP_PAGE","route","pagePathData","pageExtensions","isInsideAppDir","pageType","addEntry","newEntry","shouldInvalidate","request","staticInfo","pageFilePath","isDev","added","isServerComponent","rsc","pageRuntime","runtime","onClient","onServer","edgeServerEntry","onEdgeServer","serverEntry","addedValues","entriesThatShouldBeInvalidated","filter","hasNewEntry","some","invalidatePromises","map","Promise","reject","once","all","clearTimeout","onHMR","addEventListener","data","parsedData","JSON","parse","toString","event","result","appDirRoute","send","stringify","_"],"mappings":"AACA,OAAOA,SAAS,MAAM,0BAA0B,CAAA;AAKhD,SAASC,YAAY,QAAQ,QAAQ,CAAA;AACrC,SAASC,YAAY,QAAQ,uBAAuB,CAAA;AACpD,SAASC,sBAAsB,QAAQ,qBAAqB,CAAA;AAC5D,SAASC,IAAI,EAAEC,KAAK,QAAQ,MAAM,CAAA;AAClC,SAASC,gBAAgB,QAAQ,+CAA+C,CAAA;AAChF,SAASC,iBAAiB,QAAQ,gDAAgD,CAAA;AAClF,SAASC,kBAAkB,QAAQ,iDAAiD,CAAA;AACpF,SAASC,kBAAkB,QAAQ,kDAAkD,CAAA;AACrF,SAASC,aAAa,QAAQ,oBAAoB,CAAA;AAClD,OAAOC,sBAAsB,MAAM,8BAA8B,CAAA;AACjE,SAASC,iBAAiB,QAAQ,2CAA2C,CAAA;AAC7E,SACEC,yBAAyB,EACzBC,6BAA6B,EAC7BC,gBAAgB,EAChBC,oBAAoB,QACf,mBAAmB,CAAA;AAC1B,SAASC,iBAAiB,QAAQ,wBAAwB,CAAA;AAC1D,SAEEC,gBAAgB,EAChBC,cAAc,EACdC,gBAAgB,QACX,4BAA4B,CAAA;AAEnC,SAASC,SAAS,QAAQ,sBAAsB,CAAA;AAGhD,MAAMC,KAAK,GAAGtB,SAAS,CAAC,8BAA8B,CAAC;AAEvD;;GAEG,CACH,MAAMuB,IAAI,GAAGC,MAAM,CAACD,IAAI,AAA2C;AAEnE,MAAME,aAAa,GAAGF,IAAI,CAACL,gBAAgB,CAAC;AAE5C,SAASQ,oBAAoB,CAC3BC,WAAqB,EACrBC,UAAmB,EACX;IACR,MAAM,CAACC,gBAAgB,EAAEC,OAAO,CAAC,GAAGH,WAAW;IAE/C,kEAAkE;IAClE,MAAMI,IAAI,GACR,CAACH,UAAU,GAAGA,UAAU,GAAG,GAAG,GAAG,EAAE,CAAC,GACpC,CAACC,gBAAgB,KAAK,UAAU,IAAI,CAACC,OAAO,CAACE,UAAU,CAAC,GAAG,CAAC,GACxDH,gBAAgB,GAAG,GAAG,GACtB,EAAE,CAAC,GACP,CAACC,OAAO,KAAK,EAAE,GAAG,MAAM,GAAGA,OAAO,CAAC;IAErC,eAAe;IACf,IAAIH,WAAW,CAACM,MAAM,KAAK,CAAC,EAAE;QAC5B,OAAOF,IAAI,CAAA;KACZ;IAED,MAAMG,gBAAgB,GAAGP,WAAW,CAACQ,KAAK,CAAC,CAAC,CAAC;IAC7C,OAAOT,oBAAoB,CAACQ,gBAAgB,EAAEH,IAAI,CAAC,CAAA;CACpD;AAED,SAASK,+BAA+B,CACtCC,qBAA6C,EAC7CC,KAAa,EACb;IACA,OAAQD,qBAAqB;QAC3B,KAAK,GAAG;YACN,OAAO,CAAC,IAAI,EAAEC,KAAK,CAAC,CAAC,CAAC,CAAA;QACxB,KAAK,IAAI;YACP,OAAO,CAAC,KAAK,EAAEA,KAAK,CAAC,EAAE,CAAC,CAAA;QAC1B,KAAK,GAAG;YACN,OAAO,CAAC,CAAC,EAAEA,KAAK,CAAC,CAAC,CAAC,CAAA;QACrB;YACE,MAAM,IAAIC,KAAK,CAAC,4BAA4B,CAAC,CAAA;KAChD;CACF;AAED;;;;;;GAMG,CAEH,OAAO,SAASC,WAAW,CACzBC,YAAgC,EAChCC,cAAwC,EACxCC,IAAY,EACZ;IACA,OAAO,CAAC,EAAEF,YAAY,CAAC,CAAC,EAAEC,cAAc,CAAC,CAAC,EAAEC,IAAI,CAAC,CAAC,CAAA;CACnD;AAED,SAASC,iBAAiB,CAACC,cAAsB,EAAE;IACjD,kCAAkC;IAClC,IAAIA,cAAc,KAAK,SAAS,EAAE,OAAO,OAAO,CAAA;IAChD,IAAI7B,oBAAoB,CAAC6B,cAAc,CAAC,EAAE,OAAO,MAAM,CAAA;IACvD,OAAOA,cAAc,CAACb,UAAU,CAAC,QAAQ,CAAC,GACtC,OAAO,GACPa,cAAc,CAACb,UAAU,CAAC,MAAM,CAAC,GACjC,KAAK,GACL,MAAM,CAAA;CACX;AAED,SAASc,sBAAsB,CAC7BC,IAAuB,EACvBC,OAAgB,EAChBpB,UAAoB,GAAG,EAAE,EACzB;IACA,MAAM,CAACE,OAAO,EAAEmB,cAAc,CAAC,GAAGF,IAAI;IAEtC,MAAMG,cAAc,GAAGC,KAAK,CAACC,OAAO,CAACtB,OAAO,CAAC,GACzCM,+BAA+B,CAACN,OAAO,CAAC,CAAC,CAAC,EAAEA,OAAO,CAAC,CAAC,CAAC,CAAC,GACvDA,OAAO;IAEX,MAAMuB,WAAW,GAAG;WAAIzB,UAAU;QAAEsB,cAAc;KAAC;IAEnD,IAAI,CAACF,OAAO,IAAIE,cAAc,KAAK,EAAE,EAAE;QACrC,0CAA0C;QAC1C,OAAO;YAACxB,oBAAoB,CAAC2B,WAAW,CAAClB,KAAK,CAAC,CAAC,CAAC,CAAC;SAAC,CAAA;KACpD;IAED,OAAOX,MAAM,CAACD,IAAI,CAAC0B,cAAc,CAAC,CAACK,MAAM,CACvC,CAACC,KAAe,EAAEC,GAAW,GAAe;QAC1C,MAAMC,SAAS,GAAGR,cAAc,CAACO,GAAG,CAAC;QACrC,MAAME,UAAU,GAAGZ,sBAAsB,CAACW,SAAS,EAAE,KAAK,EAAE;eACvDJ,WAAW;YACdG,GAAG;SACJ,CAAC;QACF,OAAO;eAAID,KAAK;eAAKG,UAAU;SAAC,CAAA;KACjC,EACD,EAAE,CACH,CAAA;CACF;AAED,OAAO,MAAMC,KAAK,GAAGC,MAAM,CAAC,OAAO,CAAC,CAAA;AACpC,OAAO,MAAMC,QAAQ,GAAGD,MAAM,CAAC,UAAU,CAAC,CAAA;AAC1C,OAAO,MAAME,KAAK,GAAGF,MAAM,CAAC,OAAO,CAAC,CAAA;WA8B7B,UAGN;UAHiBG,UAAU;IAAVA,UAAU,CAAVA,UAAU,CAC1BC,OAAK,IAALA,CAAK,IAALA,OAAK;IADWD,UAAU,CAAVA,UAAU,CAE1BE,aAAW,IAAXA,CAAW,IAAXA,aAAW;GAFKF,UAAU,KAAVA,UAAU;AA+B5B,MAAMG,UAAU,GASZ,IAAIC,GAAG,EAAE;AAEb,wDAAwD;AACxD,MAAMC,mBAAmB,GAAG,CAACC,GAAW,GAAKA,GAAG,CAACC,OAAO,iBAAiB,EAAE,CAAC;AAE5E,OAAO,MAAMC,UAAU,GAAG,CACxBF,GAAW,GAC2C;IACtDA,GAAG,GAAGD,mBAAmB,CAACC,GAAG,CAAC;IAC9B,MAAMG,OAAO,GAAGN,UAAU,CAACO,GAAG,CAACJ,GAAG,CAAC,IAAI,EAAE;IACzCH,UAAU,CAACQ,GAAG,CAACL,GAAG,EAAEG,OAAO,CAAC;IAC5B,OAAOA,OAAO,CAAA;CACf,CAAA;AAED,MAAMG,YAAY,GAA6B,IAAIR,GAAG,EAAE;AAExD,OAAO,MAAMS,cAAc,GAAG,CAACP,GAAW,GAAK;IAC7CA,GAAG,GAAGD,mBAAmB,CAACC,GAAG,CAAC;IAC9B,OAAOM,YAAY,CAACF,GAAG,CAACJ,GAAG,CAAC,CAAA;CAC7B,CAAA;AAED,MAAMQ,aAAa,GAAwB,IAAI5E,YAAY,EAAE;AAC7D,MAAM6E,qBAAqB,GAAG;IAAC,EAAE;CAAC;AAClC,MAAMC,8BAA8B,GAAG;IAAC,EAAE;CAAC;AAK3C,oDAAoD;AACpD,6EAA6E;AAC7E,MAAMC,WAAW;IAGf,AAAQC,QAAQ,GAAoB,IAAIC,GAAG,EAAE,CAAA;IAC7C,AAAQC,YAAY,GAAmB,IAAID,GAAG,EAAE,CAAA;IAEhDE,YAAYC,aAAoC,CAAE;QAChD,IAAI,CAACA,aAAa,GAAGA,aAAa;KACnC;IAED,AAAOC,gBAAgB,GAAG;QACxB,OAAO,IAAI,CAACH,YAAY,CAACI,IAAI,GAAG,CAAC,CAAA;KAClC;IAEDC,UAAU,CAACC,YAAkC,GAAGhE,aAAa,EAAQ;QACnE,KAAK,MAAM+B,GAAG,IAAIiC,YAAY,CAAE;gBAY9B,GAA4D;YAX5D,+EAA+E;YAC/E,sDAAsD;YACtD,sDAAsD;YACtD,gDAAgD;YAEhD,IAAI,IAAI,CAACR,QAAQ,CAACS,GAAG,CAAClC,GAAG,CAAC,EAAE;gBAC1B,IAAI,CAAC2B,YAAY,CAACQ,GAAG,CAACnC,GAAG,CAAC;gBAC1B,SAAQ;aACT;YAED,IAAI,CAACyB,QAAQ,CAACU,GAAG,CAACnC,GAAG,CAAC;YACtB,CAAA,GAA4D,GAA5D,IAAI,CAAC6B,aAAa,CAACO,SAAS,CAAC1E,gBAAgB,CAACsC,GAAG,CAAC,CAAC,CAACqC,QAAQ,SAAY,GAAxE,KAAA,CAAwE,GAAxE,GAA4D,CAAEL,UAAU,EAAE,CAAA;SAC3E;KACF;IAED,AAAOM,aAAa,CAACC,WAA0C,EAAE;QAC/D,IAAI,CAACd,QAAQ,CAACU,GAAG,CAACI,WAAW,CAAC;KAC/B;IAED,AAAOC,YAAY,CAACP,YAAkC,GAAG,EAAE,EAAE;QAC3D,MAAMQ,OAAO,GAAyB,EAAE;QACxC,KAAK,MAAMzC,GAAG,IAAIiC,YAAY,CAAE;YAC9B,IAAI,CAACR,QAAQ,CAACiB,MAAM,CAAC1C,GAAG,CAAC;YAEzB,IAAI,IAAI,CAAC2B,YAAY,CAACO,GAAG,CAAClC,GAAG,CAAC,EAAE;gBAC9ByC,OAAO,CAACE,IAAI,CAAC3C,GAAG,CAAC;gBACjB,IAAI,CAAC2B,YAAY,CAACe,MAAM,CAAC1C,GAAG,CAAC;aAC9B;SACF;QACD,IAAI,CAACgC,UAAU,CAACS,OAAO,CAAC;KACzB;CACF;AAED,SAASG,sBAAsB,CAC7B5B,OAA0D,EAC1D6B,cAAsB,EACtB;IACA7E,MAAM,CAACD,IAAI,CAACiD,OAAO,CAAC,CAAC8B,OAAO,CAAC,CAACC,QAAQ,GAAK;QACzC,MAAMC,SAAS,GAAGhC,OAAO,CAAC+B,QAAQ,CAAC;QACnC,MAAM,EAAEE,cAAc,CAAA,EAAEC,MAAM,CAAA,EAAEC,OAAO,CAAA,EAAE,GAAGH,SAAS;QAErD,+CAA+C;QAC/C,IAAIA,SAAS,CAACI,IAAI,KA9HpB3C,CAAW,AA8HoC,EAAE;YAC7C,OAAM;SACP;QAED,IAAI0C,OAAO,EACT,6CAA6C;QAC7C,OAAM;QAER,4DAA4D;QAC5D,0CAA0C;QAC1C,IAAID,MAAM,KAAK5C,KAAK,EAAE,OAAM;QAE5B,0EAA0E;QAC1E,kFAAkF;QAClF,+DAA+D;QAC/D,IACEgB,qBAAqB,CAAC+B,QAAQ,CAACN,QAAQ,CAAC,IACxCxB,8BAA8B,CAAC8B,QAAQ,CAACN,QAAQ,CAAC,EAEjD,OAAM;QAER,IAAIE,cAAc,IAAIK,IAAI,CAACC,GAAG,EAAE,GAAGN,cAAc,GAAGJ,cAAc,EAAE;YAClE7B,OAAO,CAAC+B,QAAQ,CAAC,CAACI,OAAO,GAAG,IAAI;SACjC;KACF,CAAC;CACH;AAED,0CAA0C;AAC1C,SAASK,sBAAsB,CAACrE,IAAY,EAAE;IAC5C,IAAI;QACF,OAAOpC,iBAAiB,CAACoC,IAAI,CAAC,CAAA;KAC/B,CAAC,OAAOsE,GAAG,EAAE;QACZC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC;QAClB,MAAM,IAAIhG,iBAAiB,CAAC0B,IAAI,CAAC,CAAA;KAClC;CACF;AAED;;;;;;;;;GASG,CACH,eAAeyE,gBAAgB,CAC7BC,OAAe,EACf1E,IAAY,EACZ2E,UAAoB,EACpBC,QAAiB,EACjBC,MAAe,EACf;IACA,MAAMC,kBAAkB,GAAGT,sBAAsB,CAACrE,IAAI,CAAC;IACvD,IAAI+E,QAAQ,GAAkB,IAAI;IAElC,MAAMC,iBAAiB,GAAG9G,yBAAyB,CAAC4G,kBAAkB,CAAC;IACvE,IAAI1G,gBAAgB,CAAC0G,kBAAkB,CAAC,IAAIE,iBAAiB,EAAE;QAC7DD,QAAQ,GAAG,MAAMxH,YAAY,CAC3BmH,OAAO,EACPI,kBAAkB,EAClBH,UAAU,EACV,KAAK,CACN;QAED,IAAI,CAACI,QAAQ,EAAE;YACb,MAAM,IAAIzG,iBAAiB,CAACwG,kBAAkB,CAAC,CAAA;SAChD;QAED,MAAMG,OAAO,GAAGpH,kBAAkB,CAChCC,kBAAkB,CAACH,gBAAgB,CAACoH,QAAQ,CAAC,EAAE;YAC7CJ,UAAU;SACX,CAAC,CACH;QAED,IAAIO,UAAU,GAAGJ,kBAAkB;QACnC,IAAIK,OAAO,GAAGzH,KAAK,CAAC0H,SAAS,CAACH,OAAO,CAAC;QAEtC,IAAID,iBAAiB,EAAE;YACrBE,UAAU,GAAGA,UAAU,CAACvD,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC;YAC3CwD,OAAO,GAAGnF,IAAI,CAAC2B,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC;SACnC;QAED,OAAO;YACL0D,gBAAgB,EAAE5H,IAAI,CAACiH,OAAO,EAAEK,QAAQ,CAAC;YACzCG,UAAU,EAAEA,UAAU,CAAC1F,KAAK,CAAC,CAAC,CAAC;YAC/BQ,IAAI,EAAEmF,OAAO;SACd,CAAA;KACF;IAED,8CAA8C;IAC9C,IAAIN,MAAM,EAAE;QACVE,QAAQ,GAAG,MAAMxH,YAAY,CAACsH,MAAM,EAAEC,kBAAkB,EAAEH,UAAU,EAAE,IAAI,CAAC;QAC3E,IAAII,QAAQ,EAAE;YACZ,MAAME,OAAO,GAAGpH,kBAAkB,CAChCC,kBAAkB,CAACH,gBAAgB,CAACoH,QAAQ,CAAC,EAAE;gBAC7CO,SAAS,EAAE,IAAI;gBACfX,UAAU;aACX,CAAC,CACH;YAED,OAAO;gBACLU,gBAAgB,EAAE5H,IAAI,CAACoH,MAAM,EAAEE,QAAQ,CAAC;gBACxCG,UAAU,EAAExH,KAAK,CAACD,IAAI,CAAC,KAAK,EAAEwH,OAAO,CAAC;gBACtCjF,IAAI,EAAEtC,KAAK,CAAC0H,SAAS,CAACH,OAAO,CAAC;aAC/B,CAAA;SACF;KACF;IAED,IAAI,CAACF,QAAQ,IAAIH,QAAQ,EAAE;QACzBG,QAAQ,GAAG,MAAMxH,YAAY,CAC3BqH,QAAQ,EACRE,kBAAkB,EAClBH,UAAU,EACV,KAAK,CACN;KACF;IAED,IAAII,QAAQ,KAAK,IAAI,IAAIH,QAAQ,EAAE;QACjC,MAAMK,OAAO,GAAGpH,kBAAkB,CAChCC,kBAAkB,CAACH,gBAAgB,CAACoH,QAAQ,CAAC,EAAE;YAC7CJ,UAAU;SACX,CAAC,CACH;QAED,OAAO;YACLU,gBAAgB,EAAE5H,IAAI,CAACmH,QAAQ,EAAEG,QAAQ,CAAC;YAC1CG,UAAU,EAAExH,KAAK,CAACD,IAAI,CAAC,OAAO,EAAEG,iBAAiB,CAACqH,OAAO,CAAC,CAAC;YAC3DjF,IAAI,EAAEtC,KAAK,CAAC0H,SAAS,CAACH,OAAO,CAAC;SAC/B,CAAA;KACF;IAED,IAAIjF,IAAI,KAAK,SAAS,EAAE;QACtB,OAAO;YACLqF,gBAAgB,EAAEE,OAAO,CAACC,OAAO,CAAC,wBAAwB,CAAC;YAC3DN,UAAU,EAAElF,IAAI;YAChBA,IAAI,EAAErC,gBAAgB,CAACqC,IAAI,CAAC;SAC7B,CAAA;KACF,MAAM;QACL,MAAM,IAAI1B,iBAAiB,CAACwG,kBAAkB,CAAC,CAAA;KAChD;CACF;AAED,eAAeW,iBAAiB,CAC9Bf,OAAe,EACf1E,IAAY,EACZ2E,UAAoB,EACpBC,QAAiB,EACjBC,MAAe,EACfa,KAAkB,EACmB;IACrC,IAAIA,KAAK,EAAE;QACT,yEAAyE;QACzE,cAAc;QACd,OAAO;YACLL,gBAAgB,EAAEK,KAAK,CAACC,UAAU,CAACC,QAAQ;YAC3C5F,IAAI,EAAE0F,KAAK,CAACC,UAAU,CAAC3F,IAAI;YAC3BkF,UAAU,EAAEQ,KAAK,CAACC,UAAU,CAACT,UAAU;SACxC,CAAA;KACF;IAED,OAAOT,gBAAgB,CAACC,OAAO,EAAE1E,IAAI,EAAE2E,UAAU,EAAEC,QAAQ,EAAEC,MAAM,CAAC,CAAA;CACrE;AAED,OAAO,SAASgB,oBAAoB,CAAC,EACnCnC,cAAc,CAAA,EACdhB,aAAa,CAAA,EACboD,UAAU,CAAA,EACVC,iBAAiB,CAAA,EACjBnB,QAAQ,CAAA,EACRF,OAAO,CAAA,EACPG,MAAM,CAAA,EASP,EAAE;IACD,IAAImB,cAAc,GAAgB/D,cAAc,CAC9CS,aAAa,CAACuD,UAAU,CACzB,AAAO;IACR,IAAIC,UAAU,GAAGtE,UAAU,CAACc,aAAa,CAACuD,UAAU,CAAC,AAAO;IAE5D,IAAI,CAACD,cAAc,EAAE;QACnBA,cAAc,GAAG,IAAI3D,WAAW,CAACK,aAAa,CAAC;QAC/CV,YAAY,CAACD,GAAG,CAACW,aAAa,CAACuD,UAAU,EAAED,cAAc,CAAC;KAC3D;IAED,MAAM7C,aAAa,GAAG,CAACgD,WAAgC,GAAK;QAC1D,MAAMC,eAAe,GAAGD,WAAW,CAACE,IAAI,AAA6B;QACrEL,cAAc,CAAC7C,aAAa,CAACiD,eAAe,CAAC;KAC9C;IACD,KAAK,MAAME,QAAQ,IAAI5D,aAAa,CAACO,SAAS,CAAE;QAC9CqD,QAAQ,CAACC,KAAK,CAACC,IAAI,CAACC,GAAG,CAAC,uBAAuB,EAAEtD,aAAa,CAAC;KAChE;IAED,SAASuD,2BAA2B,CAClCzC,IAAwB,EACxB0C,WAA2C,EAC3CC,IAAc,EACd;QACA,MAAMC,SAAS,GAAa,EAAE;QAC9B,KAAK,MAAMC,UAAU,IAAIH,WAAW,CAACI,MAAM,EAAE,CAAE;YAC7C,MAAM/G,IAAI,GAAGhC,sBAAsB,CAAC8I,UAAU,CAACT,IAAI,EAAGO,IAAI,CAAC;YAE3D,IAAI5G,IAAI,EAAE;oBACe8G,GAAe;gBAAtC,MAAM/G,cAAc,GAAG+G,CAAAA,CAAAA,GAAe,GAAfA,UAAU,CAACT,IAAI,SAAY,GAA3BS,KAAAA,CAA2B,GAA3BA,GAAe,CAAEzH,UAAU,CAAC,MAAM,CAAC,IACtD,KAAK,GACL,OAAO;gBACXwH,SAAS,CAACrD,IAAI,CAAC3D,WAAW,CAACoE,IAAI,EAAElE,cAAc,EAAEC,IAAI,CAAC,CAAC;aACxD,MAAM,IACL,AAAC4G,IAAI,IAAIE,UAAU,CAACT,IAAI,KAAK,MAAM,IACnChI,oBAAoB,CAACyI,UAAU,CAACT,IAAI,CAAC,IACrClI,6BAA6B,CAAC2I,UAAU,CAACT,IAAI,CAAC,EAC9C;gBACAQ,SAAS,CAACrD,IAAI,CAAC3D,WAAW,CAACoE,IAAI,EAAE,MAAM,EAAE,CAAC,CAAC,EAAE6C,UAAU,CAACT,IAAI,CAAC,CAAC,CAAC,CAAC;aACjE;SACF;QACD,OAAOQ,SAAS,CAAA;KACjB;IAED,KAAK,MAAMP,SAAQ,IAAI5D,aAAa,CAACO,SAAS,CAAE;QAC9CqD,SAAQ,CAACC,KAAK,CAACS,IAAI,CAACP,GAAG,CAAC,uBAAuB,EAAE;gBAC/CxE,GAAmC;YAAnCA,OAAAA,CAAAA,GAAmC,GAAnCA,cAAc,CAACqE,SAAQ,CAACL,UAAU,CAAC,SAAc,GAAjDhE,KAAAA,CAAiD,GAAjDA,GAAmC,CAAEoB,YAAY,CAAC;gBAChDiD,SAAQ,CAACD,IAAI;aACd,CAAC,CAAA;SAAA,CACH;KACF;IAED3D,aAAa,CAAC6D,KAAK,CAACS,IAAI,CAACP,GAAG,CAAC,uBAAuB,EAAE,CAACQ,UAAU,GAAK;YAqCpEhF,GAAwC;QApCxC,MAAM,CAACiF,WAAW,EAAEC,WAAW,EAAEC,eAAe,CAAC,GAAGH,UAAU,CAACI,KAAK;QACpE,MAAMT,IAAI,GAAG,CAAC,CAAC/B,MAAM;QACrB,MAAMyC,UAAU,GAAG;eACdZ,2BAA2B,CAC5BlI,cAAc,CAAC+I,MAAM,EACrBL,WAAW,CAACf,WAAW,CAACQ,WAAW,EACnCC,IAAI,CACL;eACEF,2BAA2B,CAC5BlI,cAAc,CAACgJ,MAAM,EACrBL,WAAW,CAAChB,WAAW,CAACQ,WAAW,EACnCC,IAAI,CACL;eACGQ,eAAe,GACfV,2BAA2B,CACzBlI,cAAc,CAACiJ,UAAU,EACzBL,eAAe,CAACjB,WAAW,CAACQ,WAAW,EACvCC,IAAI,CACL,GACD,EAAE;SACP;QAED,KAAK,MAAMP,IAAI,IAAIiB,UAAU,CAAE;YAC7B,MAAMI,KAAK,GAAGxB,UAAU,CAACG,IAAI,CAAC;YAC9B,IAAI,CAACqB,KAAK,EAAE;gBACV,SAAQ;aACT;YAED,IAAIA,KAAK,CAAC3D,MAAM,KAAK7C,QAAQ,EAAE;gBAC7B,SAAQ;aACT;YAEDwG,KAAK,CAAC3D,MAAM,GAAG5C,KAAK;YACpBe,aAAa,CAAEyF,IAAI,CAACtB,IAAI,CAAC;SAC1B;QAEDpE,CAAAA,GAAwC,GAAxCA,cAAc,CAACS,aAAa,CAACuD,UAAU,CAAC,SAAc,GAAtDhE,KAAAA,CAAsD,GAAtDA,GAAwC,CAAEoB,YAAY,CAAC;eAAIvE,aAAa;SAAC,CAAC,CAAA;KAC3E,CAAC;IAEF,MAAM8I,gBAAgB,GAAGC,IAAI,CAACC,GAAG,CAAC,IAAI,EAAED,IAAI,CAACE,GAAG,CAAC,IAAI,EAAErE,cAAc,CAAC,CAAC;IAEvEsE,WAAW,CAAC,WAAY;QACtBvE,sBAAsB,CAACyC,UAAU,EAAExC,cAAc,CAAC;KACnD,EAAEkE,gBAAgB,GAAG,IAAI,CAAC,CAACK,KAAK,EAAE;IAEnC,SAASC,gBAAgB,CACvB9H,IAAuB,EACgB;QACvC,MAAM+H,KAAK,GAAGhI,sBAAsB,CAACC,IAAI,EAAE,IAAI,CAAC;QAChD,IAAIgI,MAAM,GAA0C;YAAEC,OAAO,EAAE,IAAI;SAAE;QAErE,KAAK,MAAMrI,IAAI,IAAImI,KAAK,CAAE;YACxB,KAAK,MAAMrI,YAAY,IAAI;gBACzBtB,cAAc,CAAC+I,MAAM;gBACrB/I,cAAc,CAACgJ,MAAM;gBACrBhJ,cAAc,CAACiJ,UAAU;aAC1B,CAAE;gBACD,MAAM7D,QAAQ,GAAG/D,WAAW,CAACC,YAAY,EAAE,KAAK,EAAE,CAAC,CAAC,EAAEE,IAAI,CAAC,CAAC,CAAC;gBAC7D,MAAMsI,SAAS,GAAGpC,UAAU,CAACtC,QAAQ,CAAC;gBAEtC,8EAA8E;gBAC9E,IAAI,CAAC0E,SAAS,EAAE;oBAEd,SAAQ;iBACT;gBAED,8EAA8E;gBAC9E,IAAIA,SAAS,CAACvE,MAAM,KAAK5C,KAAK,EAAE,SAAQ;gBAExC,0BAA0B;gBAC1B,IAAI,CAACiB,8BAA8B,CAAC8B,QAAQ,CAACN,QAAQ,CAAC,EAAE;oBACtDxB,8BAA8B,CAACmG,OAAO,CAAC3E,QAAQ,CAAC;oBAEhD,iCAAiC;oBACjC,yGAAyG;oBACzG,IAAIxB,8BAA8B,CAAC9C,MAAM,GAAGyG,iBAAiB,EAAE;wBAC7D3D,8BAA8B,CAACoG,GAAG,EAAE;qBACrC;iBACF;gBACDF,SAAS,CAACxE,cAAc,GAAGK,IAAI,CAACC,GAAG,EAAE;gBACrCkE,SAAS,CAACtE,OAAO,GAAG,KAAK;gBACzBoE,MAAM,GAAG;oBAAEK,OAAO,EAAE,IAAI;iBAAE;aAC3B;SACF;QAED,OAAOL,MAAM,CAAA;KACd;IAED,SAASM,UAAU,CAACC,EAAU,EAAE;QAC9B,MAAM3I,IAAI,GAAGrC,gBAAgB,CAACgL,EAAE,CAAC;QACjC,IAAIP,MAAM,GAA0C;YAAEC,OAAO,EAAE,IAAI;SAAE;QAErE,KAAK,MAAMvI,YAAY,IAAI;YACzBtB,cAAc,CAAC+I,MAAM;YACrB/I,cAAc,CAACgJ,MAAM;YACrBhJ,cAAc,CAACiJ,UAAU;SAC1B,CAAE;YACD,MAAM7D,QAAQ,GAAG/D,WAAW,CAACC,YAAY,EAAE,OAAO,EAAEE,IAAI,CAAC;YACzD,MAAMsI,SAAS,GAAGpC,UAAU,CAACtC,QAAQ,CAAC;YAEtC,8EAA8E;YAC9E,IAAI,CAAC0E,SAAS,EAAE;gBACd,sEAAsE;gBACtE,IAAIxI,YAAY,KAAKtB,cAAc,CAAC+I,MAAM,EAAE;oBAC1C,OAAO;wBAAEc,OAAO,EAAE,IAAI;qBAAE,CAAA;iBACzB;gBACD,SAAQ;aACT;YAED,qFAAqF;YACrFD,MAAM,GAAGpI,IAAI,KAAK,SAAS,GAAG;gBAAEqI,OAAO,EAAE,IAAI;aAAE,GAAG;gBAAEI,OAAO,EAAE,IAAI;aAAE;YAEnE,8EAA8E;YAC9E,IAAIH,SAAS,CAACvE,MAAM,KAAK5C,KAAK,EAAE,SAAQ;YAExC,0BAA0B;YAC1B,IAAI,CAACgB,qBAAqB,CAAC+B,QAAQ,CAACN,QAAQ,CAAC,EAAE;gBAC7CzB,qBAAqB,CAACoG,OAAO,CAAC3E,QAAQ,CAAC;gBAEvC,iCAAiC;gBACjC,IAAIzB,qBAAqB,CAAC7C,MAAM,GAAGyG,iBAAiB,EAAE;oBACpD5D,qBAAqB,CAACqG,GAAG,EAAE;iBAC5B;aACF;YACDF,SAAS,CAACxE,cAAc,GAAGK,IAAI,CAACC,GAAG,EAAE;YACrCkE,SAAS,CAACtE,OAAO,GAAG,KAAK;SAC1B;QACD,OAAOoE,MAAM,CAAA;KACd;IAED,OAAO;QACL,MAAMQ,UAAU,EAAC,EACf5I,IAAI,CAAA,EACJ6I,UAAU,CAAA,EACVC,QAAQ,EAAG,IAAI,CAAA,EACfpD,KAAK,CAAA,EAMN,EAAiB;YAChB,MAAMqD,WAAW,GAAG,EAAE;YACtB,MAAMC,oBAAoB,GAAGC,UAAU,CAAC,IAAM;gBAC5CtK,KAAK,CACH,CAAC,SAAS,EAAEqB,IAAI,CAAC,uBAAuB,EAAE+I,WAAW,CAAC,+CAA+C,CAAC,CACvG;aACF,EAAEA,WAAW,GAAG,IAAI,CAAC;YAEtB,yEAAyE;YACzE,+DAA+D;YAC/D,IAAIrD,CAAAA,KAAK,QAAY,GAAjBA,KAAAA,CAAiB,GAAjBA,KAAK,CAAEC,UAAU,CAACuD,IAAI,MAAKxK,SAAS,CAACyK,QAAQ,EAAE;gBACjD,MAAM,EAAExD,UAAU,EAAEyD,KAAK,CAAA,EAAE,GAAG1D,KAAK,AAAqB;gBACxDoD,QAAQ,GAAGM,KAAK,CAACN,QAAQ;aAC1B;YAED,IAAI;gBACF,MAAMO,YAAY,GAAG,MAAM5D,iBAAiB,CAC1Cf,OAAO,EACP1E,IAAI,EACJ8F,UAAU,CAACwD,cAAc,EACzB1E,QAAQ,EACRC,MAAM,EACNa,KAAK,CACN;gBAED,MAAM6D,cAAc,GAClB,CAAC,CAAC1E,MAAM,IAAIwE,YAAY,CAAChE,gBAAgB,CAAChG,UAAU,CAACwF,MAAM,CAAC;gBAE9D,MAAM2E,QAAQ,GAAGD,cAAc,GAAG,KAAK,GAAG,OAAO;gBACjD,MAAMxJ,cAAc,GAAGE,iBAAiB,CAACoJ,YAAY,CAACnE,UAAU,CAAC;gBACjE,MAAMuE,QAAQ,GAAG,CACf3J,YAAgC,GAK7B;oBACH,MAAM8D,QAAQ,GAAG/D,WAAW,CAC1BC,YAAY,EACZC,cAAc,EACdsJ,YAAY,CAACrJ,IAAI,CAClB;oBACD,IACEkG,UAAU,CAACtC,QAAQ,CAAC,IACpB,sGAAsG;oBACtG,4HAA4H;oBAC5H,+FAA+F;oBAC/F,CAACzF,6BAA6B,CAAC+H,UAAU,CAACtC,QAAQ,CAAC,CAACsB,UAAU,CAAC,EAC/D;wBACAgB,UAAU,CAACtC,QAAQ,CAAC,CAACI,OAAO,GAAG,KAAK;wBACpCkC,UAAU,CAACtC,QAAQ,CAAC,CAACE,cAAc,GAAGK,IAAI,CAACC,GAAG,EAAE;wBAChD,IAAI8B,UAAU,CAACtC,QAAQ,CAAC,CAACG,MAAM,KAAK5C,KAAK,EAAE;4BACzC,OAAO;gCACLyC,QAAQ;gCACR8F,QAAQ,EAAE,KAAK;gCACfC,gBAAgB,EAAE,KAAK;6BACxB,CAAA;yBACF;wBAED,OAAO;4BACL/F,QAAQ;4BACR8F,QAAQ,EAAE,KAAK;4BACfC,gBAAgB,EAAE,IAAI;yBACvB,CAAA;qBACF;oBAEDzD,UAAU,CAACtC,QAAQ,CAAC,GAAG;wBACrBK,IAAI,EAzjBd5C,CAAK;wBA0jBKyH,QAAQ;wBACRzD,gBAAgB,EAAEgE,YAAY,CAAChE,gBAAgB;wBAC/CuE,OAAO,EAAEP,YAAY,CAAChE,gBAAgB;wBACtCH,UAAU,EAAEmE,YAAY,CAACnE,UAAU;wBACnClB,OAAO,EAAE,KAAK;wBACdF,cAAc,EAAEK,IAAI,CAACC,GAAG,EAAE;wBAC1BL,MAAM,EAAE/C,KAAK;qBACd;oBACD,OAAO;wBACL4C,QAAQ,EAAEA,QAAQ;wBAClB8F,QAAQ,EAAE,IAAI;wBACdC,gBAAgB,EAAE,IAAI;qBACvB,CAAA;iBACF;gBAED,MAAME,UAAU,GAAG,MAAM5L,iBAAiB,CAAC;oBACzC6L,YAAY,EAAET,YAAY,CAAChE,gBAAgB;oBAC3CS,UAAU;oBACViE,KAAK,EAAE,IAAI;oBACXP,QAAQ;iBACT,CAAC;gBAEF,MAAMQ,KAAK,GAAG,IAAIxI,GAAG,EAAmD;gBACxE,MAAMyI,iBAAiB,GACrBV,cAAc,IAAIM,UAAU,CAACK,GAAG,KAAKzL,gBAAgB,CAAC8I,MAAM;gBAE9D,MAAM/J,sBAAsB,CAAC;oBAC3BwC,IAAI,EAAEqJ,YAAY,CAACrJ,IAAI;oBACvBmK,WAAW,EAAEN,UAAU,CAACO,OAAO;oBAC/BZ,QAAQ,EAAEzJ,cAAc;oBACxBsK,QAAQ,EAAE,IAAM;wBACd,4DAA4D;wBAC5D,IAAIJ,iBAAiB,IAAIV,cAAc,EAAE;4BACvC,OAAM;yBACP;wBACDS,KAAK,CAACjI,GAAG,CAACvD,cAAc,CAAC+I,MAAM,EAAEkC,QAAQ,CAACjL,cAAc,CAAC+I,MAAM,CAAC,CAAC;qBAClE;oBACD+C,QAAQ,EAAE,IAAM;wBACdN,KAAK,CAACjI,GAAG,CAACvD,cAAc,CAACgJ,MAAM,EAAEiC,QAAQ,CAACjL,cAAc,CAACgJ,MAAM,CAAC,CAAC;wBACjE,MAAM+C,eAAe,GAAG1K,WAAW,CACjCrB,cAAc,CAACiJ,UAAU,EACzB1H,cAAc,EACdsJ,YAAY,CAACrJ,IAAI,CAClB;wBACD,IACEkG,UAAU,CAACqE,eAAe,CAAC,IAC3B,CAACrM,yBAAyB,CAACmL,YAAY,CAACrJ,IAAI,CAAC,EAC7C;4BACA,uCAAuC;4BACvC,OAAOkG,UAAU,CAACqE,eAAe,CAAC;yBACnC;qBACF;oBACDC,YAAY,EAAE,IAAM;wBAClBR,KAAK,CAACjI,GAAG,CACPvD,cAAc,CAACiJ,UAAU,EACzBgC,QAAQ,CAACjL,cAAc,CAACiJ,UAAU,CAAC,CACpC;wBACD,MAAMgD,WAAW,GAAG5K,WAAW,CAC7BrB,cAAc,CAACgJ,MAAM,EACrBzH,cAAc,EACdsJ,YAAY,CAACrJ,IAAI,CAClB;wBACD,IACEkG,UAAU,CAACuE,WAAW,CAAC,IACvB,CAACvM,yBAAyB,CAACmL,YAAY,CAACrJ,IAAI,CAAC,EAC7C;4BACA,uCAAuC;4BACvC,OAAOkG,UAAU,CAACuE,WAAW,CAAC;yBAC/B;qBACF;iBACF,CAAC;gBAEF,MAAMC,WAAW,GAAG;uBAAIV,KAAK,CAACjD,MAAM,EAAE;iBAAC;gBACvC,MAAM4D,8BAA8B,GAAGD,WAAW,CAACE,MAAM,CACvD,CAAClD,KAAK,GAAKA,KAAK,CAACiC,gBAAgB,CAClC;gBACD,MAAMkB,WAAW,GAAGH,WAAW,CAACI,IAAI,CAAC,CAACpD,KAAK,GAAKA,KAAK,CAACgC,QAAQ,CAAC;gBAE/D,IAAImB,WAAW,EAAE;oBACf9M,aAAa,CACX,CAAC8K,UAAU,IAAIgC,WAAW,GACtB,CAAC,EAAExB,YAAY,CAACrJ,IAAI,CAAC,oBAAoB,CAAC,GAC1CqJ,YAAY,CAACrJ,IAAI,CACtB;iBACF;gBAED,IAAI2K,8BAA8B,CAACrL,MAAM,GAAG,CAAC,EAAE;oBAC7C,MAAMyL,kBAAkB,GAAGJ,8BAA8B,CAACK,GAAG,CAC3D,CAAC,EAAEpH,QAAQ,CAAA,EAAE,GAAK;wBAChB,OAAO,IAAIqH,OAAO,CAAO,CAACzF,OAAO,EAAE0F,MAAM,GAAK;4BAC5ChJ,aAAa,CAAEiJ,IAAI,CAACvH,QAAQ,EAAE,CAACU,GAAU,GAAK;gCAC5C,IAAIA,GAAG,EAAE;oCACP,OAAO4G,MAAM,CAAC5G,GAAG,CAAC,CAAA;iCACnB;gCACDkB,OAAO,EAAE;6BACV,CAAC;yBACH,CAAC,CAAA;qBACH,CACF;oBACDQ,cAAc,CAACnD,UAAU,CAAC;2BAAImH,KAAK,CAACpL,IAAI,EAAE;qBAAC,CAAC;oBAC5C,MAAMqM,OAAO,CAACG,GAAG,CAACL,kBAAkB,CAAC;iBACtC;aACF,QAAS;gBACRM,YAAY,CAACrC,oBAAoB,CAAC;aACnC;SACF;QAEDsC,KAAK,EAAC/D,MAAU,EAAE;YAChBA,MAAM,CAACgE,gBAAgB,CAAC,SAAS,EAAE,CAAC,EAAEC,IAAI,CAAA,EAAE,GAAK;gBAC/C,IAAI;oBACF,MAAMC,UAAU,GAAGC,IAAI,CAACC,KAAK,CAC3B,OAAOH,IAAI,KAAK,QAAQ,GAAGA,IAAI,CAACI,QAAQ,EAAE,GAAGJ,IAAI,CAClD;oBAED,IAAIC,UAAU,CAACI,KAAK,KAAK,MAAM,EAAE;wBAC/B,MAAMC,MAAM,GAAGL,UAAU,CAACM,WAAW,GACjC7D,gBAAgB,CAACuD,UAAU,CAACrL,IAAI,CAAC,GACjCsI,UAAU,CAAC+C,UAAU,CAACzL,IAAI,CAAC;wBAC/BuH,MAAM,CAACyE,IAAI,CACTN,IAAI,CAACO,SAAS,CAAC;4BACb,GAAGH,MAAM;4BACT,CAACL,UAAU,CAACM,WAAW,GAAG,QAAQ,GAAG,OAAO,CAAC,EAAE,MAAM;yBACtD,CAAC,CACH;qBACF;iBACF,CAAC,OAAOG,CAAC,EAAE,EAAE;aACf,CAAC;SACH;KACF,CAAA;CACF"}