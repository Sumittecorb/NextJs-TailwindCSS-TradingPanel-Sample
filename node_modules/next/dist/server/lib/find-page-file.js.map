{"version":3,"sources":["../../../src/server/lib/find-page-file.ts"],"names":["findPageFile","createValidFileMatcher","isTrueCasePagePath","pagePath","pagesDir","pageSegments","normalize","split","sep","filter","Boolean","segmentExistsPromises","map","segment","i","segmentParentDir","join","slice","parentDirEntries","promises","readdir","includes","Promise","all","every","normalizedPagePath","pageExtensions","isAppDir","pagePaths","getPagePaths","existingPath","others","path","filePath","fileExists","err","code","nonNullable","length","warn","chalk","cyan","appDirPath","validExtensionFileRegex","RegExp","leafOnlyPageFileRegex","metadataRoutesRelativePathRegex","concat","isMetadataRouteFile","relativePath","replace","test","isAppRouterPage","isPageFile"],"mappings":"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"}