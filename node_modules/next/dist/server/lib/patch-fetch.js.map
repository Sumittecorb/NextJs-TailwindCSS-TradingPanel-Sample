{"version":3,"sources":["../../../src/server/lib/patch-fetch.ts"],"names":["patchFetch","isEdgeRuntime","process","env","NEXT_RUNTIME","serverHooks","staticGenerationAsyncStorage","fetch","__nextPatched","DynamicServerError","originFetch","getTracer","wrap","AppRenderSpan","kind","SpanKind","CLIENT","input","init","getRequestMeta","staticGenerationStore","getStore","isRequestInput","method","field","value","next","internal","revalidate","undefined","curRevalidate","_cache","includes","CACHE_ONE_YEAR","_headers","initHeaders","get","Headers","hasUnCacheableHeader","isUnCacheableMethod","toLowerCase","autoNoCache","cacheKey","incrementalCache","fetchCacheKey","url","toString","err","console","error","requestInputFields","reqInput","reqOptions","body","_ogBody","Request","initialInit","doOriginalFetch","then","res","base64Body","resBlob","blob","arrayBuffer","encode","require","Buffer","from","set","data","headers","Object","fromEntries","entries","warn","Response","status","entry","isRevalidate","isStale","pendingRevalidates","push","catch","resData","decodedBody","decode","subarray","isStaticGeneration","cache","dynamicUsageReason","pathname","dynamicUsageStack","stack","dynamicUsageDescription","hasNextConfig","forceDynamic"],"mappings":"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"}